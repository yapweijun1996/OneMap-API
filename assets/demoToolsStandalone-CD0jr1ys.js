import"./modulepreload-polyfill-B5Qt9EMX.js";document.getElementById("btnWgsToSvy").addEventListener("click",async()=>{const t=parseFloat(document.getElementById("wgs84Lat").value),e=parseFloat(document.getElementById("wgs84Lng").value);if(!t||!e){alert("Please enter valid latitude and longitude");return}try{const a=await(await fetch(`https://www.onemap.gov.sg/api/common/convert/4326to3414?latitude=${t}&longitude=${e}`)).json(),o=document.getElementById("resultWgsToSvy"),s=document.getElementById("resultWgsToSvyText");s.textContent=`N: ${a.Y}, E: ${a.X}`,o.classList.remove("hidden")}catch(n){alert("Conversion failed: "+n.message)}});document.getElementById("btnSvyToWgs").addEventListener("click",async()=>{const t=parseFloat(document.getElementById("svy21North").value),e=parseFloat(document.getElementById("svy21East").value);if(!t||!e){alert("Please enter valid northing and easting values");return}try{const a=await(await fetch(`https://www.onemap.gov.sg/api/common/convert/3414to4326?X=${e}&Y=${t}`)).json(),o=document.getElementById("resultSvyToWgs"),s=document.getElementById("resultSvyToWgsText");s.textContent=`Lat: ${a.latitude}, Lng: ${a.longitude}`,o.classList.remove("hidden")}catch(n){alert("Conversion failed: "+n.message)}});document.getElementById("btnBatchConvert").addEventListener("click",async()=>{const t=document.getElementById("batchInput").value.trim(),e=document.getElementById("batchConversionType").value,n=document.getElementById("batchOutput");if(!t){alert("Please enter coordinates to convert");return}const a=t.split(`
`).filter(s=>s.trim()),o=[];for(const s of a){const[r,d]=s.split(",").map(l=>parseFloat(l.trim()));if(!r||!d){o.push(`Error: Invalid format - ${s}`);continue}try{let l,c;e==="wgs-to-svy"?(l=await fetch(`https://www.onemap.gov.sg/api/common/convert/4326to3414?latitude=${r}&longitude=${d}`),c=await l.json(),o.push(`${c.Y},${c.X}`)):(l=await fetch(`https://www.onemap.gov.sg/api/common/convert/3414to4326?X=${d}&Y=${r}`),c=await l.json(),o.push(`${c.latitude},${c.longitude}`))}catch{o.push(`Error: ${s}`)}}n.value=o.join(`
`)});document.getElementById("btnCopyBatch").addEventListener("click",()=>{const t=document.getElementById("batchOutput");if(!t.value){alert("No results to copy");return}t.select(),document.execCommand("copy");const e=document.getElementById("btnCopyBatch"),n=e.textContent;e.textContent="âœ“ Copied!",setTimeout(()=>{e.textContent=n},2e3)});window.fillWgs84Example=function(){document.getElementById("wgs84Lat").value="1.283627",document.getElementById("wgs84Lng").value="103.851959"};window.fillSvy21Example=function(){document.getElementById("svy21North").value="29654.024",document.getElementById("svy21East").value="30179.229"};["wgs84Lat","wgs84Lng"].forEach(t=>{document.getElementById(t).addEventListener("keypress",e=>{e.key==="Enter"&&document.getElementById("btnWgsToSvy").click()})});["svy21North","svy21East"].forEach(t=>{document.getElementById(t).addEventListener("keypress",e=>{e.key==="Enter"&&document.getElementById("btnSvyToWgs").click()})});
