import"./modulepreload-polyfill-B5Qt9EMX.js";const h="https://www.onemap.gov.sg/api",t=n=>document.getElementById(n),E=t("layer"),b=t("lat"),v=t("lng"),w=t("zoom"),f=t("w"),y=t("h"),S=t("points"),F=t("btn"),o=t("err"),g=t("url"),p=t("img"),c=t("btnCopy");function i(n){if(!n){o.classList.add("hidden"),o.textContent="";return}o.classList.remove("hidden"),o.textContent=n}F.addEventListener("click",async()=>{i(null),c.disabled=!0,g.textContent="生成中…",p.removeAttribute("src");const n=(E.value||"default").trim(),u=parseFloat((b.value||"").trim()),m=parseFloat((v.value||"").trim()),s=parseInt((w.value||"").trim(),10),r=parseInt((f.value||"").trim(),10),l=parseInt((y.value||"").trim(),10),d=(S.value||"").trim();if(!Number.isFinite(u)||!Number.isFinite(m))return i("latitude/longitude 必须是数字");if(!Number.isFinite(s)||s<11||s>19)return i("zoom 需在 11~19");if(!Number.isFinite(r)||r<=0)return i("width 必须是正整数");if(!Number.isFinite(l)||l<=0)return i("height 必须是正整数");const e=new URLSearchParams;e.set("layerchosen",n),e.set("latitude",String(u)),e.set("longitude",String(m)),e.set("postal",""),e.set("zoom",String(s)),e.set("width",String(r)),e.set("height",String(l)),d&&e.set("points",d);const a=`${h}/staticmap/getStaticImage?${e.toString()}`;g.textContent=a,p.src=a,c.disabled=!1,c.onclick=async()=>navigator.clipboard.writeText(a)});
