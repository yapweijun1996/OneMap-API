import"./modulepreload-polyfill-B5Qt9EMX.js";const u="https://www.onemap.gov.sg/api",o=n=>document.getElementById(n),d=o("lat"),m=o("lng"),p=o("btn"),a=o("err"),r=o("summary"),i=o("raw"),c=o("btnCopy");function l(n){if(!n){a.classList.add("hidden"),a.textContent="";return}a.classList.remove("hidden"),a.textContent=n}async function E(n){const e=await fetch(n),s=await e.text().catch(()=>"");if(!e.ok)throw new Error(`${e.status} ${e.statusText}${s?` - ${s}`:""}`);return s?JSON.parse(s):{}}p.addEventListener("click",async()=>{l(null),c.disabled=!0,r.textContent="请求中…",i.textContent="";const n=parseFloat((d.value||"").trim()),e=parseFloat((m.value||"").trim());if(!Number.isFinite(n)||!Number.isFinite(e))return l("lat/lng 必须是数字");const s=`${u}/common/convert/4326to3414?latitude=${encodeURIComponent(n)}&longitude=${encodeURIComponent(e)}`;try{const t=await E(s);i.textContent=JSON.stringify(t,null,2),c.disabled=!1,c.onclick=async()=>navigator.clipboard.writeText(JSON.stringify(t,null,2)),r.textContent=`X=${(t==null?void 0:t.X)??"-"}，Y=${(t==null?void 0:t.Y)??"-"}`}catch(t){l((t==null?void 0:t.message)||"请求失败"),r.textContent="等待请求…"}});
